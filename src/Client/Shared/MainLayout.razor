@inherits LayoutComponentBase

@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication


<MudBreakpointProvider>
    <MudLayout>
        <MudAppBar Elevation="1" Color=Color.Primary>
            <MudText Typo="Typo.h5" Class="ml-3">
                <MudHidden Breakpoint=Breakpoint.MdAndUp Invert=true>Universala Vortaro Demokratia</MudHidden>
                <MudHidden Breakpoint=Breakpoint.MdAndUp>UVD</MudHidden>
            </MudText>
            <MudSpacer />
            @if(lingvoj is not null)
            {
                <MudMenu StartIcon="@Icons.Filled.Translate" EndIcon="@Icons.Filled.KeyboardArrowDown" Label=@(prepariLingvon(lingvoj[Lingvo].Nomo)) Color="Color.Inherit" Variant="Variant.Text">
                    @foreach (var l in lingvoj.OrderBy(ling=>ling.Value.Nomo.Replace("La ",string.Empty)))
                    {
                        <MudMenuItem OnClick=@(e => ŜanĝiLingvon(l.Key))>@l.Value.Nomo</MudMenuItem>
                    }
                </MudMenu>
            }
            <AuthorizeView>
                <Authorized>
                    <MudButton Color="Color.Inherit" Variant="Variant.Text" Href="/krei">Aldoni</MudButton>
                </Authorized>
            </AuthorizeView>
            <MudButton Color="Color.Inherit" Variant="Variant.Text" Href="/serĉi/vorto">serĉi</MudButton>
            <MudButton Color="Color.Inherit" Variant="Variant.Text" Href="https://github.com/jdaless/Vortaro">pri</MudButton>
            <AccessControl/>
            
        </MudAppBar>
        <MudMainContent>
            <CascadingValue Value=Lingvo>
                @Body
            </CascadingValue>
        </MudMainContent>
    </MudLayout>
</MudBreakpointProvider>

<MudThemeProvider 
    Theme="new()
    {
        Palette = new()
        {
            Primary = Colors.Green.Default,
            Secondary = Colors.Orange.Default
        },
    }"/>
<MudDialogProvider/>
<MudSnackbarProvider/>